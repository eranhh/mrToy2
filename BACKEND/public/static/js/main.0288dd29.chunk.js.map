{"version":3,"sources":["pages/Home.jsx","cmps/ToyPreview.jsx","cmps/ToyList.jsx","cmps/ToyFilter.jsx","services/toyService.js","store/actions/toyActions.js","pages/ToyApp.jsx","pages/ToyDetails.jsx","pages/ToyUpdate.jsx","services/httpService.js","services/userService.js","pages/LoginSignup.jsx","store/actions/userActions.js","routes.js","pages/About.jsx","cmps/AppHeader.jsx","App.jsx","store/reducers/toyReducer.js","store/reducers/reviewReducer.js","store/reducers/userReducer.js","store/reducers/systemReducer.js","store/reducers/index.js","store/store.js","index.js"],"names":["Home","className","src","Component","ToyPreview","connect","state","loggedInUser","userModule","toy","onRemove","name","isAdmin","Button","color","onClick","_id","price","type","alt","to","ToyList","toys","length","map","_ToyFilter","filterBy","inStock","handleChange","target","field","value","checked","setState","prevState","props","onSetFilter","onFilter","ev","preventDefault","this","onSubmit","style","fontWeight","htmlFor","onChange","ToyFilter","toyModule","axios","Axios","create","withCredentials","URL","toyService","query","get","params","then","res","data","getToyById","toyId","saveToy","toyToSave","put","post","removeToy","delete","addToy","dispatch","savedToy","action","console","log","_ToyApp","loadToys","mapDispatchToProps","ToyApp","_ToyDetails","match","find","_toy","Date","createdAt","toLocaleTimeString","toLocaleDateString","ToyDetails","_ToyUpdate","addedBy","username","handleInput","onSaveToy","updateToy","history","push","TextField","id","label","placeholder","min","ToyUpdate","BASE_URL","httpService","endpoint","ajax","a","method","url","dir","response","status","window","location","assign","userService","login","logout","signup","getUsers","getById","userId","remove","update","getLoggedinUser","increaseScore","user","_saveLocalUser","by","score","userCred","sessionStorage","clear","setItem","JSON","stringify","parse","getItem","_LoginSignup","currPage","msg","loginCred","password","signupCred","firstName","lastName","email","loginHandleChange","signupHandleChange","doLogin","userCreds","err","doSignup","signupCreds","loadUsers","signupSection","variant","loginSection","removeUser","users","LoginSignup","routes","path","component","AppHeader","currUser","fullName","Chip","avatar","Avatar","charAt","ButtonGroup","aria-label","App","route","exact","initialState","reviews","localLoggedinUser","loggedinUser","isLoading","rootReducer","combineReducers","filter","systemModule","reviewModule","review","reviewId","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0288dd29.chunk.js","sourcesContent":["import { Component } from 'react'\r\n\r\nexport class Home extends Component {\r\n\r\n  render() {\r\n    return <section className=\"home main-layout\">\r\n      {/* <img src=\"https://cdn0.iconfinder.com/data/icons/shop-and-store-4/64/Pet-shop-animal-store-dog-cat-building-512.png\" /> */}\r\n      <img src=\"https://images.creativemarket.com/0.1.0/ps/6600832/300/200/m2/fpnw/wm0/logo-source-22-.jpg?1561626656&s=13fb0b1135625a41f8057fae768362c7\" />\r\n    </section>\r\n  }\r\n}","import { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction _ToyPreview({ loggedInUser, toy, onRemove }) {\r\n    return <article className=\"toy-preview flex col\">\r\n        <div className=\"title-container flex j-between a-center\">\r\n            <h2>{toy.name}</h2>\r\n            {(loggedInUser && loggedInUser.isAdmin) && <Button color='secondary' onClick={() => onRemove(toy._id)}>X</Button>}\r\n            {/* <Button color='secondary' onClick={() => onRemove(toy._id)}>X</Button> */}\r\n        </div>\r\n        <h4 className=\"lem-chif\">${toy.price}</h4>\r\n        <p>Category: {toy.type}</p>\r\n        <img src={`https://robohash.org/${toy.name}?set=set4`} alt=\"\" />\r\n        <Button className=\"details-btn\">\r\n            <Link to={`/toy/${toy._id}`} className=\"lem-chif\">Details</Link>\r\n        </Button>\r\n    </article>\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { loggedInUser: state.userModule.loggedInUser }\r\n}\r\n\r\nexport const ToyPreview = connect(mapStateToProps)(_ToyPreview)","import { ToyPreview } from \"./ToyPreview.jsx\"\r\n\r\nexport function ToyList({ toys, onRemove }) {\r\n    if (!toys || !toys.length) return <div className=\"loader\"></div>\r\n    return <div className=\"toy-list grid j-center main-layout\">\r\n        {toys.length && toys.map(toy => {\r\n            return <ToyPreview key={toy._id} toy={toy} onRemove={onRemove} />\r\n        })}\r\n    </div>\r\n}","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\n\r\nexport class _ToyFilter extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            name: '',\r\n            inStock: true,\r\n            type: 'All'\r\n        }\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n\r\n        const value = (field === 'inStock') ? target.checked : target.value\r\n\r\n        this.setState(prevState => ({ filterBy: { ...prevState.filterBy, [field]: value } }), () => {\r\n            this.props.onSetFilter(this.state.filterBy)\r\n        })\r\n    }\r\n\r\n    onFilter = (ev) => {\r\n        ev.preventDefault()\r\n        this.props.onSetFilter(this.state.filterBy)\r\n    }\r\n\r\n    render() {\r\n        const { name, type, inStock } = this.state.filterBy\r\n        return (\r\n            <section className=\"toy-filter\">\r\n                <form className=\"filter-form\" onSubmit={this.onFilter}>\r\n                    <span style={{fontWeight: \"bold\"}}>Filter:</span> <label htmlFor=\"\">Name</label>\r\n                    <input type=\"text\" name='name' value={name} onChange={this.handleChange} />\r\n                    <label htmlFor=\"\">Type</label>\r\n                    <select onChange={this.handleChange} name=\"type\" value={type}>\r\n                        <option value=\"All\">All</option>\r\n                        <option value=\"Educational\">Educational</option>\r\n                        <option value=\"Funny\">Funny</option>\r\n                        <option value=\"Adult\">Adult</option>\r\n                    </select>\r\n                    <input type=\"checkbox\" checked={inStock} onChange={this.handleChange} name=\"inStock\" />\r\n                    <label>In Stock</label>\r\n                    {/* <button>Filter</button> */}\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        // toys: state.toyModule.toys,\r\n        filterBy: state.toyModule.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n}\r\n\r\nexport const ToyFilter = connect(mapStateToProps, mapDispatchToProps)(_ToyFilter)","import Axios from 'axios';\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nconst URL = `http://localhost:3030/api/toy`\r\n\r\nexport const toyService = {\r\n    query,\r\n    getToyById,\r\n    saveToy,\r\n    removeToy\r\n}\r\n\r\nfunction query(filterBy  = {}) {\r\n    // let url = '';\r\n    // if (filterBy) {\r\n    //     const { name, type,inStock} = filterBy\r\n    //     console.log('inStock', inStock)\r\n    //     url += '?';\r\n    //     let params = new URLSearchParams(url.search);\r\n\r\n    //     name && params.set('name', name);\r\n    //     type !== 'All' && params.set('type', type);\r\n    //     inStock && params.set('inStock', inStock);\r\n        \r\n    //     // price && params.set('price', price);\r\n    //     url += params.toString()\r\n    // }\r\n    // return axios.get(`${URL}${url}`)\r\n    // .then(res => { return res.data })\r\n\r\n    return axios.get(URL, {params: filterBy}).then(res => { return res.data })\r\n}\r\n\r\nfunction getToyById(toyId) {\r\n    return axios.get(`${URL}/${toyId}`)\r\n        .then(res => res.data)\r\n}\r\n\r\nfunction saveToy(toyToSave) {\r\n    if (toyToSave._id) {\r\n        // UPDATE\r\n        return axios.put(`${URL}/${toyToSave._id}`, toyToSave)\r\n            .then(res => res.data)\r\n    } else {\r\n        // CREATE\r\n        return axios.post(URL, toyToSave)\r\n            .then(res => res.data)\r\n    }\r\n}\r\n\r\nfunction removeToy(toyId) {\r\n    return axios.delete(`${URL}/${toyId}`)\r\n}","import { toyService } from \"../../services/toyService\"\r\n\r\nexport function loadToys(filterBy) {\r\n    return (dispatch) => {\r\n        return toyService.query(filterBy)\r\n            .then(toys => {\r\n                const action = {\r\n                    type: 'SET_TOYS',\r\n                    toys\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\nexport function addToy(toy) {\r\n    return (dispatch) => {\r\n        return toyService.saveToy(toy)\r\n            .then((savedToy) => {\r\n                const action = {\r\n                    type: 'ADD_TOY',\r\n                    toy: savedToy\r\n                }\r\n                console.log(savedToy)\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\nexport function updateToy(toy) {\r\n    return (dispatch) => {\r\n        return toyService.saveToy(toy)\r\n            .then((toy) => {\r\n                const action = {\r\n                    type: 'SAVE_TOY',\r\n                    toy\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\nexport function removeToy(toyId) {\r\n    return (dispatch) => {\r\n        return toyService.removeToy(toyId)\r\n            .then(() => {\r\n                const action = {\r\n                    type: 'REMOVE_TOY',\r\n                    toyId\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\n// export function setFilter(filterBy) {\r\n//     return (dispatch) => {\r\n//         const action = {\r\n//             type: 'FILTER_TOYS',\r\n//             filterBy\r\n//         }\r\n//         dispatch(action)\r\n//     }\r\n// }","import { Component } from 'react'\r\nimport { ToyList } from '../cmps/ToyList.jsx'\r\nimport { ToyFilter } from '../cmps/ToyFilter.jsx'\r\nimport { loadToys, addToy, removeToy } from '../store/actions/toyActions.js'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass _ToyApp extends Component {\r\n\r\n    // state = {\r\n    //     filterBy: \r\n    // }\r\n\r\n    componentDidMount() {\r\n        this.props.loadToys()\r\n    }\r\n\r\n    onSetFilter = (filterBy) => {\r\n        this.props.loadToys(filterBy)\r\n    }\r\n\r\n    // onSetFilter = (filterBy) => {\r\n    //     this.props.setFilter(filterBy)\r\n    //     this.setState({ filterBy })\r\n    // }\r\n\r\n    // get toysForDisplay() {\r\n    //     let { toys } = this.props\r\n    //     console.log(this.props)\r\n    // switch (this.props.filterBy.type) {\r\n    //     case 'done':\r\n    //         toys = toys.filter(toy => toy.isDone)\r\n    //         break;\r\n    //     case 'active':\r\n    //         toys = toys.filter(toy => !toy.isDone)\r\n    //         break;\r\n    // }\r\n\r\n    // const regex = new RegExp(this.props.filterBy.text, 'i')\r\n    // toys = toys.filter(toy => regex.test(toy.text))\r\n    // return toys\r\n\r\n    //     const { filterBy } = this.props;\r\n    //     return toys.filter(toy => {\r\n    //         return toy.name.includes(filterBy.name)\r\n    //     });\r\n    // }\r\n\r\n    render() {\r\n        const { toys, loggedInUser, removeToy } = this.props\r\n        // const toys = this.toysForDisplay\r\n        return <section className=\"toy-app\">\r\n            <section>\r\n                <ToyFilter onSetFilter={this.onSetFilter} />\r\n                {(loggedInUser && loggedInUser.isAdmin) && <Link className=\"add-btn\" to=\"/toy/update\">Add Toy</Link>}\r\n                <ToyList toys={toys} onRemove={removeToy} />\r\n            </section>\r\n        </section>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        toys: state.toyModule.toys,\r\n        filterBy: state.toyModule.filterBy,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadToys,\r\n    addToy,\r\n    removeToy,\r\n}\r\n\r\nexport const ToyApp = connect(mapStateToProps, mapDispatchToProps)(_ToyApp)","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from '@material-ui/core'\r\n\r\nclass _ToyDetails extends Component {\r\n\r\n    state = {\r\n        toy: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { toyId } = this.props.match.params\r\n        if (toyId) {\r\n            // console.log(this.props.toys)\r\n            const toy = this.props.toys.find(_toy => {\r\n                return _toy._id === toyId\r\n            })\r\n            console.log(toy)\r\n            this.setState({ toy })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { toy } = this.state\r\n        const { loggedInUser } = this.props\r\n        if (!toy) return <div className=\"loader\"></div>\r\n        return (\r\n            <article className=\"toy-details flex col j-between\">\r\n                <h1>{toy.name}</h1>\r\n                <h2>${toy.price}</h2>\r\n                <h3>Category: {toy.type}</h3>\r\n                <h4 className={toy.inStock ? 'green' : 'red'}>{toy.inStock ? 'In Stock' : 'Out of Stock'}</h4>\r\n                <img src={toy.inStock ? \"../assets/img/inStock.png\" : ''} alt=\"\" />\r\n                <img src={`https://robohash.org/${toy.name}?set=set4`} alt=\"\" />\r\n                <p className=\"muted\">Created at {new Date(toy.createdAt).toLocaleTimeString(\"en-US\")}\r\n                    &nbsp;{new Date(toy.createdAt).toLocaleDateString(\"en-US\")}</p>\r\n                {(loggedInUser && loggedInUser.isAdmin) && <Button color='secondary' className=\"edit-btn\">\r\n                    <Link to={`/toy/update/${toy._id}`}>Edit</Link>\r\n                </Button>}\r\n            </article>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        toys: state.toyModule.toys,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nexport const ToyDetails = connect(mapStateToProps)(_ToyDetails)","import { addToy, updateToy } from '../store/actions/toyActions.js'\r\nimport { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { TextField } from '@material-ui/core'\r\nimport { Button } from '@material-ui/core'\r\n\r\nclass _ToyUpdate extends Component {\r\n\r\n    state = {\r\n        toy: {\r\n            name: '',\r\n            price: 0,\r\n            inStock: true,\r\n            type: 'Educational',\r\n            addedBy: this.props.loggedInUser.username\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { toyId } = this.props.match.params\r\n        if (toyId) {\r\n            const toy = this.props.toys.find(toy => {\r\n                return toy._id === toyId\r\n            })\r\n            this.setState({ toy })\r\n        }\r\n    }\r\n\r\n    handleInput = ({ target }) => {\r\n        const field = target.name\r\n        let value\r\n        value = (field === 'inStock') ? target.checked : target.value\r\n        value = (field === 'price') ? +value : value\r\n        if (field === 'price' && value < 0) return\r\n\r\n        this.setState(prevState => {\r\n            return {\r\n                toy: {\r\n                    ...prevState.toy,\r\n                    [field]: value\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    onSaveToy = (ev) => {\r\n        ev.preventDefault()\r\n        const { toy } = this.state\r\n        // if (!toy.name) return\r\n        if (toy._id) {\r\n            this.props.updateToy(toy).then(() => this.props.history.push('/toy'))\r\n        } else {\r\n            this.props.addToy(toy).then(() => this.props.history.push('/toy'))\r\n        }\r\n        this.setState({ toy: { name: '', price: 0, inStock: true } })\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.loggedInUser)\r\n\r\n        const { toy } = this.state\r\n        if (!toy) return <div className=\"loader\"></div>\r\n        return (\r\n            <div className=\"toy-update\">\r\n                <h3>{toy._id ? 'Update' : 'Add'} Toy</h3>\r\n                <form className=\"flex col j-between\" onSubmit={this.onSaveToy}>\r\n                    <TextField id=\"standard-secondary\" label=\"Name\" type=\"text\" name=\"name\" value={toy.name} placeholder=\"Name\" color=\"secondary\" onChange={this.handleInput} />\r\n                    <TextField label=\"Price\" type=\"number\" min=\"0\" value={toy.price} onChange={this.handleInput} name=\"price\" />\r\n                    <select onChange={this.handleInput} name=\"type\" value={toy.type}>\r\n                        <option value=\"educational\">Educational</option>\r\n                        <option value=\"funny\">Funny</option>\r\n                        <option value=\"adult\">Adult</option>\r\n                    </select>\r\n                    <div className=\"flex a-center\">\r\n                        <input type=\"checkbox\" checked={toy.inStock} onChange={this.handleInput} name=\"inStock\" />\r\n                        <label>in Stock</label>\r\n                    </div>\r\n                    <Button type=\"submit\" color='secondary'>Save</Button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        toys: state.toyModule.toys,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    addToy,\r\n    updateToy\r\n}\r\n\r\nexport const ToyUpdate = connect(mapStateToProps, mapDispatchToProps)(_ToyUpdate)","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","// import { storageService } from './asyncStorageService'\r\nimport { httpService } from './httpService'\r\nconst SCORE_FOR_REVIEW = 10\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n    increaseScore\r\n}\r\n\r\nwindow.userService = userService\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 100, isAdmin: true})\r\n\r\nfunction getUsers() {\r\n    // return storageService.query('user')\r\n    return httpService.get(`user`)\r\n}\r\n\r\nfunction getById(userId) {\r\n    // return storageService.get('user', userId)\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    // return storageService.remove('user', userId)\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // return storageService.put('user', user)\r\n    user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\nasync function increaseScore(by = SCORE_FOR_REVIEW) {\r\n    const user = getLoggedinUser()\r\n    user.score = user.score + by || by\r\n    await update(user)\r\n    return user.score\r\n}\r\n\r\nasync function login(userCred) {\r\n    // const users = await storageService.query('user')\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // return _handleLogin(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    if (user) return _saveLocalUser(user)\r\n}\r\n\r\nasync function signup(userCred) {\r\n    // const user = await storageService.post('user', userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _saveLocalUser(user)\r\n}\r\n\r\nasync function logout() {\r\n    sessionStorage.clear()\r\n    return await httpService.post('auth/logout')\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser'))\r\n}\r\n\r\n","import { Component } from 'react'\r\nimport { TextField } from '@material-ui/core'\r\nimport { Button } from '@material-ui/core'\r\nimport { connect } from 'react-redux'\r\n\r\nimport {\r\n  loadUsers,\r\n  removeUser,\r\n  login,\r\n  logout,\r\n  signup\r\n} from '../store/actions/userActions'\r\n\r\nclass _LoginSignup extends Component {\r\n\r\n  state = {\r\n    currPage: 'login',\r\n    msg: '',\r\n    loginCred: {\r\n      username: '',\r\n      password: ''\r\n    },\r\n    signupCred: {\r\n      username: '',\r\n      password: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      email: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() { this.props.loadUsers() }\r\n\r\n  loginHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  signupHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      signupCred: {\r\n        ...prevState.signupCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  doLogin = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password } = this.state.loginCred\r\n    if (!username) {\r\n      return this.setState({ msg: 'Please enter user/password' })\r\n    }\r\n    const userCreds = { username, password }\r\n    try {\r\n      this.props.login(userCreds)\r\n      this.setState({ loginCred: { username: '', password: '' } })\r\n    } catch (err) {\r\n      this.setState({ msg: 'Login failed, try again.' })\r\n    }\r\n  }\r\n\r\n  doSignup = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password, firstName, lastName, email } = this.state.signupCred\r\n    if (!username || !password || !firstName || !lastName || !email) {\r\n      return this.setState({ msg: 'All inputs are required' })\r\n    }\r\n    const signupCreds = { username, password, firstName, lastName, email }\r\n    this.props.signup(signupCreds)\r\n    this.setState({ signupCred: { username: '', password: '', firstName: '', lastName: '', email: '' } })\r\n  }\r\n\r\n  render() {\r\n    const { loggedInUser } = this.props\r\n    console.log(this.props)\r\n\r\n    let signupSection = (\r\n      <form className=\"frm-signup flex col\" onSubmit={this.doSignup}>\r\n        <h2>Create Account</h2>\r\n        <TextField\r\n          type=\"text\"\r\n          name=\"email\"\r\n          value={this.state.signupCred.email}\r\n          onChange={this.signupHandleChange}\r\n          label=\"Email\"\r\n        />\r\n        <TextField\r\n          type=\"text\"\r\n          name=\"firstName\"\r\n          value={this.state.signupCred.firstName}\r\n          onChange={this.signupHandleChange}\r\n          label=\"First Name\"\r\n        />\r\n        <TextField\r\n          type=\"text\"\r\n          name=\"lastName\"\r\n          value={this.state.signupCred.lastName}\r\n          onChange={this.signupHandleChange}\r\n          label=\"Last Name\"\r\n        />\r\n        <TextField\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={this.state.signupCred.username}\r\n          onChange={this.signupHandleChange}\r\n          label=\"Username\"\r\n        />\r\n        <TextField\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={this.state.signupCred.password}\r\n          onChange={this.signupHandleChange}\r\n          label=\"Password\"\r\n        />\r\n        <Button className=\"signup-btn\" type=\"submit\" color=\"secondary\" variant=\"contained\">SIGN UP</Button>\r\n      </form>\r\n    )\r\n    let loginSection = (\r\n      <form className=\"frm-login flex col\" onSubmit={this.doLogin}>\r\n        <h2>Sign In</h2>\r\n        <TextField\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={this.state.loginCred.username}\r\n          onChange={this.loginHandleChange}\r\n          label=\"Username\"\r\n        />\r\n        <TextField\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={this.state.loginCred.password}\r\n          onChange={this.loginHandleChange}\r\n          label=\"Password\"\r\n        />\r\n        <Button className=\"login-btn\" type=\"submit\" color=\"primary\" variant=\"contained\">SIGN IN</Button>\r\n      </form>\r\n    )\r\n\r\n    const { msg } = this.state\r\n    const { currPage } = this.state\r\n    return (\r\n      < div className=\"login-signup\" >\r\n        { loggedInUser && (\r\n          <div>\r\n            <h3>\r\n              Welcome {loggedInUser.firstName + ' ' + loggedInUser.lastName}\r\n              <Button color=\"secondary\" onClick={this.props.logout}>LOGOUT</Button>\r\n            </h3>\r\n          </div>\r\n        )\r\n        }\r\n        <div className=\"btn-group flex\">\r\n          <Button color=\"primary\" onClick={() => this.setState({ currPage: 'login' })}>Login</Button>\r\n          <Button color=\"secondary\" onClick={() => this.setState({ currPage: 'signup' })}>Signup</Button>\r\n        </div>\r\n        <p className=\"muted red\">{msg ? '* ' + msg : ''}</p>\r\n        {(!loggedInUser && currPage === 'login') && loginSection}\r\n        {(!loggedInUser && currPage === 'signup') && signupSection}\r\n      </div >\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.userModule.users,\r\n    loggedInUser: state.userModule.loggedInUser,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  login,\r\n  logout,\r\n  signup,\r\n  removeUser,\r\n  loadUsers\r\n}\r\n\r\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup)","import { userService } from '../../services/userService'\r\n\r\n// THUNK action creators\r\n// Work asynchronously with the service and dispatch actions to the reducers \r\n\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}","import { Home } from './pages/Home.jsx'\r\nimport { ToyApp } from './pages/ToyApp.jsx'\r\nimport { ToyDetails } from './pages/ToyDetails.jsx'\r\nimport { ToyUpdate } from './pages/ToyUpdate.jsx'\r\nimport { About } from './pages/About.jsx'\r\nimport { LoginSignup } from './pages/LoginSignup.jsx'\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/',\r\n        component: Home,\r\n    },\r\n    {\r\n        path: '/toy',\r\n        component: ToyApp,\r\n    },\r\n    {\r\n        path: '/toy/update/:toyId?',\r\n        component: ToyUpdate,\r\n    },\r\n    {\r\n        path: '/toy/:toyId',\r\n        component: ToyDetails,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: LoginSignup,\r\n    },\r\n    {\r\n        path: '/signup',\r\n        component: LoginSignup,\r\n    },\r\n    {\r\n        path: '/about',\r\n        component: About,\r\n    }\r\n]","export function About() {\r\n    return <section className=\"about main-layout\">\r\n        <h3>ABOUT</h3>\r\n        <p>ערן, תקשקש פה איזה משהו כשיהיה לך זמן</p>\r\n    </section>\r\n}","import { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, ButtonGroup, Chip, Avatar } from '@material-ui/core'\r\n\r\nfunction _AppHeader({ loggedInUser }) {\r\n    const currUser = loggedInUser\r\n    const fullName = currUser ? currUser.firstName + ' ' + currUser.lastName : null\r\n\r\n    return <header>\r\n        <section className=\"main-layout flex j-between a-center\">\r\n            <h1><Link to=\"/\" className=\"logo\">😺 Kitty Toys</Link></h1>\r\n            <div className=\"flex a-center\">\r\n                {currUser ?\r\n                    <Link to=\"/login\" className=\"link\">\r\n                        <Chip\r\n                            avatar={<Avatar>{currUser.firstName.charAt(0) + currUser.lastName.charAt(0)}</Avatar>}\r\n                            label={fullName}\r\n                            color=\"primary\" />\r\n                    </Link>\r\n                    : <Link to=\"/signup\" className=\"link\">\r\n                        <Chip\r\n                            avatar={<Avatar></Avatar>}\r\n                            label=\"Login\"\r\n                            color=\"primary\" />\r\n                    </Link>}\r\n                <nav>\r\n                    <ButtonGroup variant=\"contained\" color=\"secondary\" aria-label=\"contained primary button group\">\r\n                        <Button><Link to=\"/toy\">Toys</Link></Button>\r\n                        <Button><Link to=\"/about\">About Us</Link></Button>\r\n                    </ButtonGroup>\r\n                </nav>\r\n            </div>\r\n        </section>\r\n    </header>\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { loggedInUser: state.userModule.loggedInUser }\r\n}\r\n\r\nexport const AppHeader = connect(mapStateToProps)(_AppHeader)","import './App.css';\r\nimport { routes } from './routes.js'\r\nimport { AppHeader } from './cmps/AppHeader.jsx'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport './styles/styles.scss'\r\n\r\nfunction App() {\r\n  return (\r\n    <main>\r\n      <AppHeader />\r\n      <Switch>\r\n        {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n      </Switch>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default App;","const initialState = {\r\n    toys: [],\r\n    // filterBy: { type: 'All', name: '' , inStock: true }\r\n}\r\n\r\nexport function toyReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_TOYS':\r\n            return { ...state, toys: action.toys }\r\n        case 'SAVE_TOY':\r\n            return {\r\n                ...state,\r\n                toys: state.toys.map(toy => (toy._id === action.toy._id) ? action.toy : toy)\r\n            }\r\n        case 'ADD_TOY':\r\n            return {\r\n                ...state,\r\n                toys: [...state.toys, action.toy]\r\n            }\r\n        case 'REMOVE_TOY':\r\n            return { ...state, toys: state.toys.filter(toy => toy._id !== action.toyId) }\r\n        // case 'FILTER_TOYS':\r\n        //     return { ...state, filterBy: action.filterBy }\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = {\r\n  reviews: [],\r\n}\r\n\r\nexport function reviewReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews }\r\n    case 'ADD_REVIEW':\r\n      return { ...state, reviews: [...state.reviews, action.review] }\r\n    case 'REMOVE_REVIEW':\r\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\r\n    case 'UPDATE_REVIEW':\r\n      return {\r\n        ...state,\r\n        reviews: state.reviews.map(review =>\r\n          review._id === action.review._id ? action.review : review\r\n        )\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'REMOVE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.userId)\r\n      }\r\n    case 'SET_USERS':\r\n      return { ...state, users: action.users }\r\n    case 'SET_SCORE':\r\n      return { ...state, loggedInUser: { ...state.loggedInUser, score: action.score } }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}","import { combineReducers } from 'redux'\r\nimport { toyReducer } from './toyReducer'\r\nimport { reviewReducer } from './reviewReducer'\r\nimport { userReducer } from './userReducer'\r\nimport { systemReducer } from './systemReducer'\r\n\r\nexport const rootReducer = combineReducers({\r\n  toyModule: toyReducer,\r\n  systemModule: systemReducer,\r\n  reviewModule: reviewReducer,\r\n  userModule: userReducer\r\n})","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk';\r\nimport { rootReducer } from './reducers'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}