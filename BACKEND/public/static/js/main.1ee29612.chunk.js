(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),s=n(13),o=n.n(s),i=(n(97),n(21)),u=n(22),l=n(24),d=n(23),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("section",{className:"home main-layout",children:Object(r.jsx)("img",{src:"https://images.creativemarket.com/0.1.0/ps/6600832/300/200/m2/fpnw/wm0/logo-source-22-.jpg?1561626656&s=13fb0b1135625a41f8057fae768362c7",alt:"homepic"})})}}]),n}(a.Component),j=n(19),h=n(20),b=n(126);var f=Object(j.b)((function(e){return{loggedInUser:e.userModule.loggedInUser}}))((function(e){var t=e.loggedInUser,n=e.toy,a=e.onRemove;return Object(r.jsxs)("article",{className:"toy-preview flex col",children:[Object(r.jsxs)("div",{className:"title-container flex j-between a-center",children:[Object(r.jsx)("h2",{children:n.name}),t&&t.isAdmin&&Object(r.jsx)(b.a,{color:"secondary",onClick:function(){return a(n._id)},children:"X"})]}),Object(r.jsxs)("h3",{children:["$",n.price]}),Object(r.jsxs)("p",{children:["Category: ",n.type]}),Object(r.jsx)("img",{src:"https://robohash.org/".concat(n.name,"?set=set4"),alt:""}),Object(r.jsx)(b.a,{className:"details-btn",children:Object(r.jsx)(h.b,{to:"/toy/".concat(n._id),style:{color:"#CC0000"},children:"Details"})})]})}));function O(e){var t=e.toys,n=e.onRemove;return t&&t.length?Object(r.jsx)("div",{className:"toy-list grid j-center main-layout",children:t.length&&t.map((function(e){return Object(r.jsx)(f,{toy:e,onRemove:n},e._id)}))}):Object(r.jsx)("div",{className:"loader"})}var g=n(31),v=n(7),m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:{name:"",inStock:!0,type:"All"}},e.handleChange=function(t){var n=t.target,r=n.name,a="inStock"===r?n.checked:n.value;e.setState((function(e){return{filterBy:Object(v.a)(Object(v.a)({},e.filterBy),{},Object(g.a)({},r,a))}}),(function(){e.props.onSetFilter(e.state.filterBy)}))},e.onFilter=function(t){t.preventDefault(),e.props.onSetFilter(e.state.filterBy)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.filterBy,t=e.name,n=e.type,a=e.inStock;return Object(r.jsx)("section",{className:"toy-filter",children:Object(r.jsxs)("form",{className:"filter-form",onSubmit:this.onFilter,children:[Object(r.jsx)("span",{style:{fontWeight:"bold"},children:"Filter:"})," ",Object(r.jsx)("label",{htmlFor:"",children:"Name"}),Object(r.jsx)("input",{type:"text",name:"name",value:t,onChange:this.handleChange}),Object(r.jsx)("label",{htmlFor:"",children:"Type"}),Object(r.jsxs)("select",{onChange:this.handleChange,name:"type",value:n,children:[Object(r.jsx)("option",{value:"All",children:"All"}),Object(r.jsx)("option",{value:"Educational",children:"Educational"}),Object(r.jsx)("option",{value:"Funny",children:"Funny"}),Object(r.jsx)("option",{value:"Adult",children:"Adult"})]}),Object(r.jsx)("input",{type:"checkbox",checked:a,onChange:this.handleChange,name:"inStock"}),Object(r.jsx)("label",{children:"In Stock"})]})})}}]),n}(a.Component),y=Object(j.b)((function(e){return{filterBy:e.toyModule.filterBy}}),{})(m),x=n(56),w=n.n(x),S=w.a.create({withCredentials:!0}),N="http://localhost:3030/api/toy",k={query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S.get(N,{params:e}).then((function(e){return e.data}))},getToyById:function(e){return S.get("".concat(N,"/").concat(e)).then((function(e){return e.data}))},saveToy:function(e){return e._id?S.put("".concat(N,"/").concat(e._id),e).then((function(e){return e.data})):S.post(N,e).then((function(e){return e.data}))},removeToy:function(e){return S.delete("".concat(N,"/").concat(e))}};function E(e){return function(t){return k.saveToy(e).then((function(e){var n={type:"ADD_TOY",toy:e};console.log(e),t(n)}))}}var C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onSetFilter=function(t){e.props.loadToys(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadToys()}},{key:"render",value:function(){var e=this.props,t=e.toys,n=e.loggedInUser,a=e.removeToy;return Object(r.jsx)("section",{className:"toy-app",children:Object(r.jsxs)("section",{children:[Object(r.jsx)(y,{onSetFilter:this.onSetFilter}),n&&n.isAdmin&&Object(r.jsx)(h.b,{className:"add-btn",to:"/toy/update",children:"Add Toy"}),Object(r.jsx)(O,{toys:t,onRemove:a})]})})}}]),n}(a.Component),I={loadToys:function(e){return function(t){return k.query(e).then((function(e){t({type:"SET_TOYS",toys:e})}))}},addToy:E,removeToy:function(e){return function(t){return k.removeToy(e).then((function(){t({type:"REMOVE_TOY",toyId:e})}))}}},U=Object(j.b)((function(e){return{toys:e.toyModule.toys,filterBy:e.toyModule.filterBy,loggedInUser:e.userModule.loggedInUser}}),I)(C),T=n(9),_=n.n(T),A=n(15),R="/api/",D=w.a.create({withCredentials:!0}),M=function(e,t){return V(e,"GET",t)},L=function(e,t){return V(e,"POST",t)},F=function(e,t){return V(e,"PUT",t)},B=function(e,t){return V(e,"DELETE",t)};function V(e){return P.apply(this,arguments)}function P(){return(P=Object(A.a)(_.a.mark((function e(t){var n,r,a,c=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"get",r=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,e.next=5,D({url:"".concat(R).concat(t),method:n,data:r});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(r)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var H={add:function(e){return W.apply(this,arguments)},query:function(e){var t=e?"?name=".concat(e.name,"&sort=anaAref"):"";return M("review".concat(t))},remove:function(e){return B("review/".concat(e))}};function W(){return(W=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("review",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){console.log(this.props);var e=this.props.toy;return Object(r.jsxs)("section",{className:"toy-reviews main-layout",children:[Object(r.jsxs)("form",{onSubmit:this.props.addReview,children:[Object(r.jsxs)("div",{className:"flex j-between a-center",children:[Object(r.jsx)("h4",{children:"Add a review"}),Object(r.jsx)(b.a,{children:"POST"})]}),Object(r.jsx)("textarea",{})]}),console.log(e.reviews),e.reviews&&e.reviews.length&&Object(r.jsxs)("table",{cellpadding:"0",cellspacing:"0",children:[Object(r.jsxs)("thead",{children:[Object(r.jsx)("th",{children:"By"}),Object(r.jsx)("th",{children:"Review"}),Object(r.jsx)("th",{children:"Posted At"})]}),Object(r.jsx)("tbody",{children:e.reviews.map((function(e){a.Fragment,e.by,e.txt,e.createdAt}))})]})]})}}]),n}(a.Component),Y={loadReviews:function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.query();case 3:n=e.sent,t({type:"SET_REVIEWS",reviews:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("ReviewActions: err in loadReviews",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},addReview:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.add(e);case 3:r=t.sent,n({type:"ADD_REVIEW",review:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ReviewActions: err in addReview",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeReview:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.remove(e);case 3:n({type:"REMOVE_REVIEW",reviewId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("ReviewActions: err in removeReview",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}},q=Object(j.b)((function(e){return{reviews:e.reviewModule.reviews}}),Y)(G),J=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={toy:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.toyId;if(e){var t=this.props.toys.find((function(t){return t._id===e}));console.log(t),this.setState({toy:t})}}},{key:"render",value:function(){var e=this.state.toy,t=this.props.loggedInUser;return e?Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)("article",{className:"toy-details flex col j-between",children:[Object(r.jsx)("h1",{children:e.name}),Object(r.jsxs)("h2",{children:["$",e.price]}),Object(r.jsxs)("h3",{children:["Category: ",e.type]}),Object(r.jsx)("h4",{className:e.inStock?"green":"red",children:e.inStock?"In Stock":"Out of Stock"}),Object(r.jsx)("img",{src:e.inStock?"../assets/img/inStock.png":"",alt:""}),Object(r.jsx)("img",{src:"https://robohash.org/".concat(e.name,"?set=set4"),alt:""}),Object(r.jsxs)("p",{className:"muted",children:["Created at ",new Date(e.createdAt).toLocaleTimeString("en-US"),"\xa0",new Date(e.createdAt).toLocaleDateString("en-US")]}),t&&t.isAdmin&&Object(r.jsx)(b.a,{color:"secondary",className:"edit-btn",children:Object(r.jsx)(h.b,{to:"/toy/update/".concat(e._id),children:"Edit"})})]}),Object(r.jsx)(q,{toy:this.state.toy})]}):Object(r.jsx)("div",{className:"loader"})}}]),n}(a.Component),X=Object(j.b)((function(e){return{toys:e.toyModule.toys,loggedInUser:e.userModule.loggedInUser}}))(J),$=n(158),z=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={toy:{name:"",price:0,inStock:!0,type:"Educational",addedBy:e.props.loggedInUser.username}},e.handleInput=function(t){var n,r=t.target,a=r.name;n="inStock"===a?r.checked:r.value,n="price"===a?+n:n,"price"===a&&n<0||e.setState((function(e){return{toy:Object(v.a)(Object(v.a)({},e.toy),{},Object(g.a)({},a,n))}}))},e.onSaveToy=function(t){t.preventDefault();var n=e.state.toy;n._id?e.props.updateToy(n).then((function(){return e.props.history.push("/toy")})):e.props.addToy(n).then((function(){return e.props.history.push("/toy")})),e.setState({toy:{name:"",price:0,inStock:!0}})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.toyId;if(e){var t=this.props.toys.find((function(t){return t._id===e}));this.setState({toy:t})}}},{key:"render",value:function(){console.log(this.props.loggedInUser);var e=this.state.toy;return e?Object(r.jsxs)("div",{className:"toy-update",children:[Object(r.jsxs)("h3",{children:[e._id?"Update":"Add"," Toy"]}),Object(r.jsxs)("form",{className:"flex col j-between",onSubmit:this.onSaveToy,children:[Object(r.jsx)($.a,{id:"standard-secondary",label:"Name",type:"text",name:"name",value:e.name,placeholder:"Name",color:"secondary",onChange:this.handleInput}),Object(r.jsx)($.a,{label:"Price",type:"number",min:"0",value:e.price,onChange:this.handleInput,name:"price"}),Object(r.jsxs)("select",{onChange:this.handleInput,name:"type",value:e.type,children:[Object(r.jsx)("option",{value:"Educational",children:"Educational"}),Object(r.jsx)("option",{value:"Funny",children:"Funny"}),Object(r.jsx)("option",{value:"Adult",children:"Adult"})]}),Object(r.jsxs)("div",{className:"flex a-center",children:[Object(r.jsx)("input",{type:"checkbox",checked:e.inStock,onChange:this.handleInput,name:"inStock"}),Object(r.jsx)("label",{children:"in Stock"})]}),Object(r.jsx)(b.a,{type:"submit",color:"secondary",children:"Save"})]})]}):Object(r.jsx)("div",{className:"loader"})}}]),n}(a.Component),K={addToy:E,updateToy:function(e){return function(t){return k.saveToy(e).then((function(e){t({type:"SAVE_TOY",toy:e})}))}}},Q=Object(j.b)((function(e){return{toys:e.toyModule.toys,loggedInUser:e.userModule.loggedInUser}}),K)(z);var Z=n(84),ee=n.n(Z),te=n(82),ne=n.n(te),re=n(80),ae=n.n(re),ce=n(81),se=n.n(ce),oe=n(83),ie=n.n(oe),ue={login:function(e){return de.apply(this,arguments)},logout:function(){return je.apply(this,arguments)},signup:function(e){return pe.apply(this,arguments)},getUsers:function(){return M("user")},getById:function(e){return M("user/".concat(e))},remove:function(e){return B("user/".concat(e))},update:function(e){return le.apply(this,arguments)},getLoggedinUser:be};function le(){return(le=Object(A.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("user/".concat(t._id),t);case 2:t=e.sent,be()._id===t._id&&he(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("auth/login",t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",he(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",he(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return(je=Object(A.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,L("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function be(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}window.userService=ue;var fe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currPage:"/login",msg:"",loginCred:{username:"",password:""},signupCred:{username:"",password:"",firstName:"",lastName:"",email:""}},e.loginHandleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState((function(e){return{loginCred:Object(v.a)(Object(v.a)({},e.loginCred),{},Object(g.a)({},r,a))}}))},e.signupHandleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState((function(e){return{signupCred:Object(v.a)(Object(v.a)({},e.signupCred),{},Object(g.a)({},r,a))}}))},e.doLogin=function(){var t=Object(A.a)(_.a.mark((function t(n){var r,a,c,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state.loginCred,a=r.username,c=r.password,a){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:return s={username:a,password:c},t.prev=5,t.next=8,e.props.login(s);case 8:e.setState({loginCred:{username:"",password:""}}),sessionStorage.loggedinUser&&e.props.history.push("/toy"),t.next=17;break;case 12:return t.prev=12,t.t0=t.catch(5),t.next=16,e.setState({msg:"Login failed, try again."});case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(A.a)(_.a.mark((function t(n){var r,a,c,s,o,i,u;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state.signupCred,a=r.username,c=r.password,s=r.firstName,o=r.lastName,i=r.email,a&&c&&s&&o&&i){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required"}));case 4:return u={username:a,password:c,firstName:s,lastName:o,email:i},t.next=7,e.props.signup(u);case 7:e.setState({signupCred:{username:"",password:"",firstName:"",lastName:"",email:""}}),sessionStorage.loggedinUser&&e.props.history.push("/toy");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadUsers(),this.setState({currPage:this.props.match.path})}},{key:"render",value:function(){var e=this.props.loggedInUser,t=Object(r.jsxs)("form",{className:"frm-signup flex col",onSubmit:this.doSignup,children:[Object(r.jsx)("h2",{children:"Create Account"}),Object(r.jsx)($.a,{type:"text",name:"email",value:this.state.signupCred.email,onChange:this.signupHandleChange,label:"Email"}),Object(r.jsx)($.a,{type:"text",name:"firstName",value:this.state.signupCred.firstName,onChange:this.signupHandleChange,label:"First Name"}),Object(r.jsx)($.a,{type:"text",name:"lastName",value:this.state.signupCred.lastName,onChange:this.signupHandleChange,label:"Last Name"}),Object(r.jsx)($.a,{type:"text",name:"username",value:this.state.signupCred.username,onChange:this.signupHandleChange,label:"Username"}),Object(r.jsx)($.a,{name:"password",type:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,label:"Password"}),Object(r.jsx)(b.a,{className:"signup-btn",type:"submit",color:"secondary",variant:"contained",children:"SIGN UP"})]}),n=Object(r.jsxs)("form",{className:"frm-login flex col",onSubmit:this.doLogin,children:[Object(r.jsx)("h2",{children:"Sign In"}),Object(r.jsx)($.a,{type:"text",name:"username",value:this.state.loginCred.username,onChange:this.loginHandleChange,label:"Username"}),Object(r.jsx)($.a,{type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,label:"Password"}),Object(r.jsx)(b.a,{className:"login-btn",type:"submit",color:"primary",variant:"contained",children:"SIGN IN"}),Object(r.jsxs)("div",{className:"filler-logos flex j-between",children:[Object(r.jsx)(ae.a,{}),Object(r.jsx)(se.a,{}),Object(r.jsx)(ne.a,{}),Object(r.jsx)(ie.a,{})]})]}),a=this.state.msg,c=this.state.currPage;return Object(r.jsxs)("div",{className:"login-signup",children:[e&&Object(r.jsx)("div",{children:Object(r.jsxs)("h3",{children:["Welcome ",e.firstName+" "+e.lastName,Object(r.jsx)(b.a,{color:"secondary",onClick:this.props.logout,children:"LOGOUT"})]})}),Object(r.jsxs)("div",{className:"btn-group flex",children:[Object(r.jsx)(b.a,{color:"primary",children:Object(r.jsx)(h.b,{to:"/login",children:"Login"})}),Object(r.jsx)(b.a,{color:"secondary",children:Object(r.jsx)(h.b,{to:"/signup",children:"Signup"})})]}),Object(r.jsx)("p",{className:"muted red",children:a?"* "+a:""}),Object(r.jsx)("div",{className:"lock-icon-div flex j-center",children:Object(r.jsx)(ee.a,{fontSize:"large",color:"/login"===c?"primary":"secondary"})}),!e&&"/login"===c&&n,!e&&"/signup"===c&&t]})}}]),n}(a.Component),Oe={login:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.login(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in login",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("UserActions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},signup:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.signup(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in signup",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeUser:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.remove(e);case 3:n({type:"REMOVE_USER",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,ue.getUsers();case 4:n=e.sent,t({type:"SET_USERS",users:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 11:return e.prev=11,t({type:"LOADING_DONE"}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()}},ge=Object(j.b)((function(e){return{users:e.userModule.users,loggedInUser:e.userModule.loggedInUser}}),Oe)(fe),ve=[{path:"/",component:p},{path:"/toy",component:U},{path:"/toy/update/:toyId?",component:Q},{path:"/toy/:toyId",component:X},{path:"/login",component:ge},{path:"/signup",component:ge},{path:"/about",component:function(){return Object(r.jsxs)("section",{className:"about main-layout",children:[Object(r.jsx)("h3",{children:"ABOUT"}),Object(r.jsx)("p",{children:"\u05e2\u05e8\u05df, \u05ea\u05e7\u05e9\u05e7\u05e9 \u05e4\u05d4 \u05d0\u05d9\u05d6\u05d4 \u05de\u05e9\u05d4\u05d5 \u05db\u05e9\u05d9\u05d4\u05d9\u05d4 \u05dc\u05da \u05d6\u05de\u05df"})]})}}],me=n(159),ye=n(160),xe=n(157);var we=Object(j.b)((function(e){return{loggedInUser:e.userModule.loggedInUser}}))((function(e){var t=e.loggedInUser,n=t?t.firstName+" "+t.lastName:null;return Object(r.jsx)("header",{children:Object(r.jsxs)("section",{className:"main-layout flex j-between a-center",children:[Object(r.jsx)("h1",{className:"logo",children:Object(r.jsx)(h.c,{exact:!0,to:"/",children:"\ud83d\ude3a Kitty Toys"})}),Object(r.jsxs)("div",{className:"flex a-center",children:[t?Object(r.jsx)(h.b,{to:"/login",className:"link",children:Object(r.jsx)(me.a,{avatar:Object(r.jsx)(ye.a,{children:t.firstName.charAt(0)+t.lastName.charAt(0)}),label:n,color:"primary"})}):Object(r.jsx)(h.b,{to:"/login",className:"link",children:Object(r.jsx)(me.a,{avatar:Object(r.jsx)(ye.a,{}),label:"Login",color:"primary"})}),Object(r.jsx)("nav",{children:Object(r.jsxs)(xe.a,{variant:"contained",color:"secondary","aria-label":"contained primary button group",children:[Object(r.jsx)(b.a,{children:Object(r.jsx)(h.b,{to:"/toy",children:"Toys"})}),Object(r.jsx)(b.a,{children:Object(r.jsx)(h.b,{to:"/about",children:"About Us"})})]})})]})]})})})),Se=n(16);n(123);var Ne=function(){return Object(r.jsxs)("main",{children:[Object(r.jsx)(we,{}),Object(r.jsx)(Se.c,{children:ve.map((function(e){return Object(r.jsx)(Se.a,{exact:!0,component:e.component,path:e.path},e.path)}))})]})},ke=n(35),Ee=n(85),Ce=n(58),Ie={toys:[]};var Ue={reviews:[]};var Te=null;sessionStorage.loggedinUser&&(Te=JSON.parse(sessionStorage.loggedinUser));var _e={loggedInUser:Te,users:[]};var Ae={isLoading:!1};var Re=Object(ke.c)({toyModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOYS":return Object(v.a)(Object(v.a)({},e),{},{toys:t.toys});case"SAVE_TOY":return Object(v.a)(Object(v.a)({},e),{},{toys:e.toys.map((function(e){return e._id===t.toy._id?t.toy:e}))});case"ADD_TOY":return Object(v.a)(Object(v.a)({},e),{},{toys:[].concat(Object(Ce.a)(e.toys),[t.toy])});case"REMOVE_TOY":return Object(v.a)(Object(v.a)({},e),{},{toys:e.toys.filter((function(e){return e._id!==t.toyId}))});default:return e}},systemModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1});default:return e}},reviewModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_REVIEWS":return Object(v.a)(Object(v.a)({},e),{},{reviews:t.reviews});case"ADD_REVIEW":return console.log(e,t),Object(v.a)(Object(v.a)({},e),{},{reviews:[].concat(Object(Ce.a)(e.reviews),[t.review])});case"REMOVE_REVIEW":return Object(v.a)(Object(v.a)({},e),{},{reviews:e.reviews.filter((function(e){return e._id!==t.reviewId}))});case"UPDATE_REVIEW":return Object(v.a)(Object(v.a)({},e),{},{reviews:e.reviews.map((function(e){return e._id===t.review._id?t.review:e}))});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(v.a)(Object(v.a)({},e),{},{loggedInUser:t.user});case"REMOVE_USER":return Object(v.a)(Object(v.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(v.a)(Object(v.a)({},e),{},{users:t.users});case"SET_SCORE":return Object(v.a)(Object(v.a)({},e),{},{loggedInUser:Object(v.a)({},e.loggedInUser)});default:return e}}}),De=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ke.d,Me=Object(ke.e)(Re,De(Object(ke.a)(Ee.a)));o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(j.a,{store:Me,children:Object(r.jsx)(h.a,{children:Object(r.jsx)(Ne,{})})})}),document.getElementById("root"))},97:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.1ee29612.chunk.js.map